query SearchCompanies($searchTerm: String!, $page: Int = 1, $limit: Int = 20, $sort: String = "-priority") {
  Searches(
    draft: false
    where: {
      AND: [
        { title: { contains: $searchTerm } }
        { doc: { relationTo: companies } }
      ]
    }
    page: $page
    limit: $limit
    sort: $sort
  ) {
    docs {
      id
      title
      priority
      doc(draft: false) {
        relationTo
        value {
          ... on Company {
            __typename
            id
            name
            description
            website
            phone
            email
            allowedIdentities {
              id
              name
              description
            }
            disallowedIdentities {
              id
              name
              description
            }
            image {
              id
              url
              alt
              filename
              width
              height
              mimeType
            }
            identity {
              id
              name
              description
            }
          }
        }
      }
    }
    totalDocs
    limit
    totalPages
    page
    hasPrevPage
    hasNextPage
    prevPage
    nextPage
  }
}
